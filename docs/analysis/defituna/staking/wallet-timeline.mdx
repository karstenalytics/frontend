---
title: Wallet Timeline
---

import BrowserOnly from '@docusaurus/BrowserOnly';
import LoadingSpinner from '@site/src/components/common/LoadingSpinner';

# Staking Wallet Timeline

Detailed staking history for individual wallet addresses showing balance evolution, realized rewards, and all staking operations over time. Enter any wallet address to view their staked/unstaked TUNA balances, cumulative SOL rewards (claimed + compounded), and complete transaction history with interactive charts.

## Data

<BrowserOnly fallback={<LoadingSpinner />}>
  {() => {
    const { useState, useEffect } = require('react');
    const { useWalletTimeline } = require('@site/src/hooks/useWalletTimeline');
    const WalletTimelineChart = require('@site/src/components/Staking/WalletTimelineChart').default;

    // Notable wallets with display names
    const notableWallets = [
      { address: '2ynatrVRWC4QqjnfFYUy7q2yQyDT5EySSh8o2yWrxyFb', name: 'Protocol Treasury' },
      { address: 'ECyvtxvY4KNBt5vfLtdsMrp77mKjL3JD6aha9m3aXBvd', name: 'The White Whale' },
      { address: '63jfXXj98msQDKFJKXACpeY1uQ228CyjZeyzbFeDq7iM', name: 'DefiTuna Founder Dhirk' },
    ];

    // Wallets with vesting schedules
    const vestingWallets = [
      '2vAg5qYrpa4GV6Xio75TEzFocHV7MWLfitxipjY6H2EJ',
      '2ynatrVRWC4QqjnfFYUy7q2yQyDT5EySSh8o2yWrxyFb',
      '31bz9pFqHC6a5DFRk2DrXhzWghNSh6Ybb6D7dcPzvWw7',
      '3fTrmoWk4DGVx6x1xDtKaJciRYCQ76wr28dEsMtdh3zM',
      '3rJe7FAeMDxUYkLMYVcBj1ZPX4o8Ukt4h3mWgyS9a6Jy',
      '4aUhpwZCrd3paaUEj4FEeEbpAq76kG4PmuDJp59fksrM',
      '5A2gBoqU5GkBfFN7qQvp1RR2TTKXnFT2wt9w8e9RnXx5',
      '5eXV2EHffops3QbxqsFCsARb9Lq6MtUnWL7bfw6cVnrw',
      '5hF2H1wf2ZCpH8Row3y7c8AutLQKKrA1c8t52yxcAFJU',
      '6CEJhr1Z5GWxLsk5GermUfPc1511EH1S4WJAaazN2xWm',
      '6WSc4njiD9Y7bNeb1dVtW9UTjiYQHVirq6PsxPivzqDv',
      '7iMWCxXH6hL1FuRse6vXLMYJd1i3KJrcWmpx19o69vQz',
      '7tDZNLSbHappi8cE3ANXayodQRxrDZwJQGLi5HJKmp5X',
      '8A5mDnwzGXFseoX34Ek5MkRnDA3QieqoW8DUMJbksJbS',
      '8Ji51bchqqwZYCXAXVQAK3FwPsWnupZQa4jDeCVFqdmM',
      '8mMMikQp5sFETSmWQfzrBbDSYUNW7UQrmUcW9yv2AvxB',
      '8ogfg8uU66AASKwGbzZDTPasQ4QKt4rfnUZQ2TTDyeJy',
      'A7UTmRy8AbHxEsEFJwUj7KQGK4SJ3EbBXdSkSgnDePDB',
      'APN3kwv1TUxhadMyECFoBYGNYfjyXYsAuZyS6nY4LzY9',
      'AbifZaK9yo1w8gfonT8TkZzefV47RSuJmpxpsusD5cV6',
      'AgV713LkpRzfEwjK2WTsndp86QffuTxfRZ5SLukumbfc',
      'Ah4LQvVDGGAbtqFoDZvNV4yRYMMhqZpJGLZWGnZA3rPP',
      'BbJP5VT3nprTeMC2cZgHQiWiw2j9KQCTso3idWUXXp7z',
      'BenGcYAaMnVReHwqRmqHtC2dX7nd88e3UtGHz3i6EN1U',
      'C31s8y9zXnUbXzejPQ4ZaUj8JdR6j3zseAAcmDr8k51x',
      'C4BWvTPm2nCbqhLSuyc7PPWUoVVe1pjrYhdco3MbZLaL',
      'CpbBBcUv9ic5RbADfGLvGTqCnMCY7wmw2WijJcky6Qxf',
      'D8zRsRRzBsZVaxDWz8L1NjdWzSuw7jjKz86wTnCQGMEM',
      'DHeDGRTCaGTxaYkCVUZ6noNXQJ2pnk4QgeEJXJTCEUQe',
      'DMbArkMKpMoctM57tnRfYLp1wVd7QCoBWnwETmLDCTDk',
      'DeTu8nW3MWeWCDyvZnvVGkW9YAYrK7SZWw9hosYc8QNR',
      'DhFW86DfdpbP83nMqLX75v3xNob35aQ7XbSpqyaon4G1',
      'DnzRAvmGszi38jMcmCFJ5v7AhDa7hPzn6gD2Aqykjnc1',
      'Dp1o9FTC5YBERrYq1MrqBTME55XG5PA2VfEx174jgsb9',
      'Ds48oyaeRSGfoXGtGMqyVJZnmvq9qvhVLXy1LfjdTWfh',
      'Dufg6HNpi5UJejoKFjgaumhLNWH9SrY21VyP3e9bs2y4',
      'EN6xdJYF6SFWvc4t3LLcf1g2j7tWEBkMfdwXkpga8D34',
      'FA8Kft2G8xGY8AhQEdPSSxpRnEoPpg4tm17nmS1hYJQf',
      'FBTpfreTqcSkwgNEeRoyJZ23VWpGSa7bFq1KAnh1g5JR',
      'FhExouC1cLVm6amPktrEHRvHoMUBmsjbTots8Scm2ny6',
      'Fu3qo3RAYqE8yxmotNZMdqmTUXp71nHio6PBNdNYYmn7',
      'GRowGA1cq9abztLhXJykXoD7sAnxUARQap2sRX2CZgpv',
      'Grb7PngNe1yRmugepSNjiZvyEyTScbY4EDL2J2jAk3rC',
      'Gyun5nDsDuLKK7cFbxENS7YsY1PrqCNAWyrnYfbRkDph',
      'HAQSoQRbHxERiF7W2cnoG8SrxqLb1Vs1epX52i2FWzpY',
      'HUST7np5e5dAvfXgrhVxCGXMGym9KuC7MLJAraj9795f',
      'J2jmQPR1mdYxHBfSCLxFoy99uPxaxLYWcVmx48889Ls3',
      'JBDKyJUDEkJauC56DryT11qsiTJKncWq1NeigLEbPDp3',
      'Y8QqeC9nqD6Ai2YM1nxZaXdPZNWJmHSAJT4PiXrpdF3',
      'tmnbW9cJJQCx9aDQxqmEDitdsFjsDtHxi2u6AJhAr18',
      'upgMGFHGxJ58kBxpiEhLzV5AJ9SkZiGx3hxAxc7TZfn',
      'xxxRS9VH9LRrxDqxBTd7mqWhSnTpebHnCo5KDHDciaf',
    ];

    function WalletTimelinePage() {
      const [inputAddress, setInputAddress] = useState('');
      const [searchAddress, setSearchAddress] = useState(null);
      const [currentPage, setCurrentPage] = useState(0);
      const [hoveredRow, setHoveredRow] = useState(null);
      const { data, loading, error } = useWalletTimeline(searchAddress);

      // Parse URL parameters on mount to auto-fill wallet address
      useEffect(() => {
        const params = new URLSearchParams(window.location.search);
        const walletParam = params.get('wallet') || params.get('address');

        if (walletParam) {
          const trimmed = walletParam.trim();
          // Validate address length (32-44 characters for Solana addresses)
          if (trimmed.length >= 32 && trimmed.length <= 44) {
            setInputAddress(trimmed);
            setSearchAddress(trimmed); // Auto-trigger search
          }
        }
      }, []); // Run only on mount

      // Reset pagination when searching new wallet
      useEffect(() => {
        setCurrentPage(0);
      }, [searchAddress]);

      // Update URL when wallet changes
      useEffect(() => {
        if (searchAddress) {
          const url = new URL(window.location.href);
          url.searchParams.set('wallet', searchAddress);
          window.history.replaceState({}, '', url.toString());
        } else {
          // Clear the parameter if no wallet
          const url = new URL(window.location.href);
          url.searchParams.delete('wallet');
          window.history.replaceState({}, '', url.toString());
        }
      }, [searchAddress]);

      const handleSearch = () => {
        const trimmed = inputAddress.trim();
        if (trimmed.length >= 32 && trimmed.length <= 44) {
          setSearchAddress(trimmed);
        } else {
          alert('Please enter a valid Solana wallet address (32-44 characters)');
        }
      };

      const handleKeyPress = (e) => {
        if (e.key === 'Enter') {
          handleSearch();
        }
      };

      return (
        <div style={{ padding: '0' }}>
          {/* Search Input */}
          <div style={{
            background: 'var(--ifm-background-surface-color)',
            border: '1px solid var(--ifm-toc-border-color)',
            borderRadius: 'var(--ifm-global-radius)',
            padding: '24px',
            marginBottom: '24px',
          }}>
            <label style={{
              display: 'block',
              marginBottom: '12px',
              fontWeight: 600,
              fontSize: '14px',
            }}>
              Wallet Address
            </label>
            <div style={{ display: 'flex', gap: '12px' }}>
              <input
                type="text"
                value={inputAddress}
                onChange={(e) => setInputAddress(e.target.value)}
                onKeyPress={handleKeyPress}
                placeholder="Enter Solana wallet address (e.g., 5MJ6Jx2SJKyTce...)"
                style={{
                  flex: 1,
                  padding: '12px 16px',
                  fontSize: '14px',
                  fontFamily: 'var(--ifm-font-family-monospace)',
                  border: '1px solid var(--ifm-toc-border-color)',
                  borderRadius: 'var(--ifm-global-radius)',
                  background: 'var(--ifm-background-color)',
                  color: 'var(--ifm-font-color-base)',
                }}
              />
              <button
                onClick={handleSearch}
                disabled={loading}
                style={{
                  padding: '12px 32px',
                  fontSize: '14px',
                  fontWeight: 600,
                  color: 'white',
                  background: loading ? '#9CA3AF' : 'var(--accent)',
                  border: 'none',
                  borderRadius: 'var(--ifm-global-radius)',
                  cursor: loading ? 'not-allowed' : 'pointer',
                  transition: 'background 120ms ease',
                }}
                onMouseEnter={(e) => {
                  if (!loading) e.currentTarget.style.background = 'var(--accent-hover)';
                }}
                onMouseLeave={(e) => {
                  if (!loading) e.currentTarget.style.background = 'var(--accent)';
                }}
              >
                {loading ? 'Loading...' : 'Analyze Wallet'}
              </button>
            </div>
            <p style={{
              marginTop: '12px',
              marginBottom: '12px',
              fontSize: '13px',
              color: 'var(--ifm-color-secondary)',
            }}>
              Enter any wallet address from the staking cache ({loading ? '...' : '7,861 wallets available'}). No idea which address to enter? Check <a href="/analysis/defituna/staking/staked-tuna" style={{ color: 'var(--accent)', textDecoration: 'none' }}>recent stakers/withdrawers</a> or <a href="https://defituna.com/stake" target="_blank" rel="noopener noreferrer" style={{ color: 'var(--accent)', textDecoration: 'none' }}>DefiTuna Leaderboard</a> or use the notable wallets below.
            </p>
            <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>
              <span style={{ fontSize: '12px', color: 'var(--ifm-color-secondary)' }}>
                Quick select:
              </span>
              <select
                value=""
                onChange={(e) => {
                  if (e.target.value) {
                    setInputAddress(e.target.value);
                    setSearchAddress(e.target.value);
                  }
                }}
                style={{
                  padding: '6px 10px',
                  fontSize: '12px',
                  border: '1px solid var(--ifm-toc-border-color)',
                  borderRadius: 'var(--ifm-global-radius)',
                  background: 'var(--ifm-background-color)',
                  color: 'var(--ifm-color-secondary)',
                  cursor: 'pointer',
                }}
              >
                <option value="">Select wallet...</option>
                <optgroup label="Notable Wallets">
                  {notableWallets.map((wallet) => (
                    <option key={wallet.address} value={wallet.address}>
                      {wallet.name}
                    </option>
                  ))}
                </optgroup>
                <optgroup label="Wallets with Vesting (52)">
                  {vestingWallets.map((address) => (
                    <option key={address} value={address}>
                      {address.slice(0, 8)}...{address.slice(-4)}
                    </option>
                  ))}
                </optgroup>
              </select>
            </div>
          </div>

          {/* Loading State */}
          {loading && (
            <div style={{
              padding: '48px',
              textAlign: 'center',
              background: 'var(--ifm-background-surface-color)',
              border: '1px solid var(--ifm-toc-border-color)',
              borderRadius: 'var(--ifm-global-radius)',
            }}>
              <LoadingSpinner />
              <p style={{ marginTop: '16px', color: 'var(--ifm-color-secondary)' }}>
                Loading wallet timeline...
              </p>
            </div>
          )}

          {/* Error State */}
          {error && !loading && (
            <div style={{
              padding: '24px',
              background: 'var(--ifm-background-surface-color)',
              border: '1px solid var(--ifm-color-danger)',
              borderRadius: 'var(--ifm-global-radius)',
              color: 'var(--ifm-color-danger)',
            }}>
              <h3 style={{ marginTop: 0 }}>Error Loading Wallet</h3>
              <p>{error}</p>
              <p style={{ fontSize: '14px', color: 'var(--ifm-color-secondary)', marginTop: '16px', marginBottom: 0 }}>
                Please check the wallet address and try again. The wallet must exist in the staking cache (active from 2025-07-25 onwards).
              </p>
            </div>
          )}

          {/* Chart and Summary */}
          {data && data.found && !loading && (
            <>
              {/* Summary Stats */}
              <div style={{
                background: 'var(--ifm-background-surface-color)',
                border: '1px solid var(--ifm-toc-border-color)',
                borderRadius: 'var(--ifm-global-radius)',
                padding: '24px',
                marginBottom: '24px',
              }}>
                <h3 style={{ marginTop: 0, marginBottom: '16px' }}>Wallet Summary</h3>
                <div style={{
                  display: 'grid',
                  gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',
                  gap: '16px',
                }}>
                  <div>
                    <div style={{ fontSize: '13px', color: 'var(--ifm-color-secondary)', marginBottom: '4px' }}>
                      Current Staked
                    </div>
                    <div style={{ fontSize: '20px', fontWeight: 600, color: 'var(--accent)' }}>
                      {data.summary.current_staked.toLocaleString(undefined, { maximumFractionDigits: 2 })} TUNA
                    </div>
                  </div>

                  {data.summary.current_locked > 0 && (
                    <div>
                      <div style={{ fontSize: '13px', color: 'var(--ifm-color-secondary)', marginBottom: '4px' }}>
                        Current Locked (Vesting)
                      </div>
                      <div style={{ fontSize: '20px', fontWeight: 600, color: '#EC4899' }}>
                        {data.summary.current_locked.toLocaleString(undefined, { maximumFractionDigits: 2 })} TUNA
                      </div>
                      <div style={{ fontSize: '12px', color: 'var(--ifm-color-secondary)', marginTop: '4px' }}>
                        Unlocks over time per vesting schedule
                      </div>
                    </div>
                  )}

                  <div>
                    <div style={{ fontSize: '13px', color: 'var(--ifm-color-secondary)', marginBottom: '4px' }}>
                      Current Unstaked
                    </div>
                    <div style={{ fontSize: '20px', fontWeight: 600 }}>
                      {data.summary.current_unstaked.toLocaleString(undefined, { maximumFractionDigits: 2 })} TUNA
                    </div>
                  </div>

                  <div>
                    <div style={{ fontSize: '13px', color: 'var(--ifm-color-secondary)', marginBottom: '4px' }}>
                      Realized Rewards
                    </div>
                    <div style={{ fontSize: '20px', fontWeight: 600, color: '#F59E0B' }}>
                      {data.summary.realized_rewards.toLocaleString(undefined, { maximumFractionDigits: 4 })} SOL
                    </div>
                    <div style={{ fontSize: '12px', color: 'var(--ifm-color-secondary)', marginTop: '4px' }}>
                      Claimed + Compounded
                    </div>
                  </div>

                  <div>
                    <div style={{ fontSize: '13px', color: 'var(--ifm-color-secondary)', marginBottom: '4px' }}>
                      Total Operations
                    </div>
                    <div style={{ fontSize: '20px', fontWeight: 600 }}>
                      {data.summary.total_operations.toLocaleString()}
                    </div>
                  </div>

                  <div>
                    <div style={{ fontSize: '13px', color: 'var(--ifm-color-secondary)', marginBottom: '4px' }}>
                      Active Since
                    </div>
                    <div style={{ fontSize: '16px', fontWeight: 600 }}>
                      {new Date(data.summary.first_stake_date).toLocaleDateString()}
                    </div>
                    <div style={{ fontSize: '12px', color: 'var(--ifm-color-secondary)', marginTop: '4px' }}>
                      {data.summary.days_active} days
                    </div>
                  </div>

                  <div>
                    <div style={{ fontSize: '13px', color: 'var(--ifm-color-secondary)', marginBottom: '4px' }}>
                      Last Activity
                    </div>
                    <div style={{ fontSize: '16px', fontWeight: 600 }}>
                      {new Date(data.summary.last_activity_date).toLocaleDateString()}
                    </div>
                  </div>
                </div>

                <div style={{
                  marginTop: '16px',
                  padding: '12px',
                  background: 'var(--ifm-background-color)',
                  borderRadius: '6px',
                  fontSize: '13px',
                  color: 'var(--ifm-color-secondary)',
                }}>
                  ℹ️ <strong>Note:</strong> Realized rewards are shown in SOL (claimed and compounded amounts). Unclaimed rewards are not shown.
                </div>
              </div>

              <WalletTimelineChart data={data} />

              {/* Transactions Table */}
              {(() => {
                const { tableStyles, tableRowHoverHandlers, linkHoverHandlers } = require('@site/src/styles/tableStyles');

                // Reverse operations to show newest first
                const reversedOperations = [...data.operations].reverse();
                const pageSize = 10;
                const totalPages = Math.ceil(reversedOperations.length / pageSize);
                const startIdx = currentPage * pageSize;
                const endIdx = startIdx + pageSize;
                const pageOperations = reversedOperations.slice(startIdx, endIdx);

                const operationColors = {
                  initialize: '#8B5CF6',
                  stake: '#10B981',
                  unstake: '#EF4444',
                  compound: '#3B82F6',
                  claim: '#F59E0B',
                  withdraw: '#F97316',
                  set_vesting: '#EC4899',
                  unknown: '#6B7280',
                };

                return (
                  <div style={tableStyles.container}>
                    <h3 style={{ marginTop: 0, marginBottom: '16px' }}>Wallet Transactions ({reversedOperations.length}) — Newest First ▼</h3>

                    <div style={{ overflowX: 'auto' }}>
                      <table style={tableStyles.table}>
                        <thead>
                          <tr style={tableStyles.headerRow}>
                            <th style={tableStyles.headerCell}>#</th>
                            <th style={tableStyles.headerCell}>Date</th>
                            <th style={tableStyles.headerCell}>Type</th>
                            <th style={tableStyles.headerCell}>Amount</th>
                            <th style={tableStyles.headerCell}>Transaction</th>
                          </tr>
                        </thead>
                        <tbody>
                          {pageOperations.map((op, idx) => {
                            const globalIdx = startIdx + idx;
                            const unit = (op.type === 'compound' || op.type === 'claim') ? 'SOL' : 'TUNA';
                            const decimals = (op.type === 'compound' || op.type === 'claim') ? 4 : 2;
                            // Show "Locked" prefix for vesting operations
                            const amountPrefix = op.type === 'set_vesting' ? 'Locked: ' : '';

                            return (
                              <tr
                                key={globalIdx}
                                style={tableStyles.bodyRow}
                                {...tableRowHoverHandlers}
                              >
                                <td style={tableStyles.rankCell}>
                                  #{globalIdx + 1}
                                </td>
                                <td style={{ ...tableStyles.dateCell, fontSize: '12px', fontFamily: 'var(--ifm-font-family-monospace)' }}>
                                  {new Date(op.date).toLocaleString()}
                                </td>
                                <td style={tableStyles.cell}>
                                  <span style={{
                                    display: 'inline-block',
                                    padding: '4px 8px',
                                    borderRadius: '4px',
                                    fontSize: '12px',
                                    fontWeight: 600,
                                    color: 'white',
                                    background: operationColors[op.type] || operationColors.unknown,
                                  }}>
                                    {op.type_label}
                                  </span>
                                </td>
                                <td style={{ ...tableStyles.cell, fontWeight: 600 }}>
                                  {amountPrefix}{op.amount.toLocaleString(undefined, { minimumFractionDigits: decimals, maximumFractionDigits: decimals })} {unit}
                                </td>
                                <td style={tableStyles.addressCell}>
                                  <a
                                    href={op.solscan_url}
                                    target="_blank"
                                    rel="noopener noreferrer"
                                    style={tableStyles.link}
                                    {...linkHoverHandlers}
                                  >
                                    {op.signature.slice(0, 8)}...{op.signature.slice(-8)}
                                  </a>
                                </td>
                              </tr>
                            );
                          })}
                        </tbody>
                      </table>
                    </div>

                    {/* Pagination */}
                    {totalPages > 1 && (
                      <div style={{
                        display: 'flex',
                        justifyContent: 'space-between',
                        alignItems: 'center',
                        marginTop: '16px',
                        paddingTop: '16px',
                        borderTop: '1px solid var(--ifm-toc-border-color)',
                      }}>
                        <div style={{ fontSize: '14px', color: 'var(--ifm-color-secondary)' }}>
                          Showing {startIdx + 1}-{Math.min(endIdx, reversedOperations.length)} of {reversedOperations.length}
                        </div>
                        <div style={{ display: 'flex', gap: '8px' }}>
                          <button
                            onClick={() => setCurrentPage(Math.max(0, currentPage - 1))}
                            disabled={currentPage === 0}
                            style={{
                              padding: '8px 16px',
                              fontSize: '14px',
                              fontWeight: 600,
                              color: currentPage === 0 ? 'var(--ifm-color-secondary)' : 'var(--ifm-font-color-base)',
                              background: 'var(--ifm-background-surface-color)',
                              border: '1px solid var(--ifm-toc-border-color)',
                              borderRadius: 'var(--ifm-global-radius)',
                              cursor: currentPage === 0 ? 'not-allowed' : 'pointer',
                            }}
                          >
                            Previous
                          </button>
                          <div style={{
                            padding: '8px 16px',
                            fontSize: '14px',
                            color: 'var(--ifm-color-secondary)',
                          }}>
                            Page {currentPage + 1} of {totalPages}
                          </div>
                          <button
                            onClick={() => setCurrentPage(Math.min(totalPages - 1, currentPage + 1))}
                            disabled={currentPage === totalPages - 1}
                            style={{
                              padding: '8px 16px',
                              fontSize: '14px',
                              fontWeight: 600,
                              color: currentPage === totalPages - 1 ? 'var(--ifm-color-secondary)' : 'var(--ifm-font-color-base)',
                              background: 'var(--ifm-background-surface-color)',
                              border: '1px solid var(--ifm-toc-border-color)',
                              borderRadius: 'var(--ifm-global-radius)',
                              cursor: currentPage === totalPages - 1 ? 'not-allowed' : 'pointer',
                            }}
                          >
                            Next
                          </button>
                        </div>
                      </div>
                    )}
                  </div>
                );
              })()}
            </>
          )}

          {/* Wallet Not Found */}
          {data && !data.found && !loading && !error && (
            <div style={{
              padding: '48px',
              textAlign: 'center',
              background: 'var(--ifm-background-surface-color)',
              border: '1px solid var(--ifm-toc-border-color)',
              borderRadius: 'var(--ifm-global-radius)',
            }}>
              <h3>Wallet Not Found</h3>
              <p style={{ color: 'var(--ifm-color-secondary)' }}>
                {data.error || 'This wallet is not in the staking cache.'}
              </p>
              <p style={{ fontSize: '14px', color: 'var(--ifm-color-secondary)' }}>
                The cache contains 7,861 wallets active from 2025-07-25 onwards.
              </p>
            </div>
          )}
        </div>
      );
    }

    return <WalletTimelinePage />;
  }}
</BrowserOnly>

## Use Cases

This page helps you:

- **Track individual wallet behavior**: Monitor any wallet's staking activity, commitment level, and reward strategies over time
- **Analyze whale patterns**: Study large stakers to understand their behavior, when they stake/unstake, and how they manage rewards
- **Share wallet analysis**: Use URL parameters (?wallet=ADDRESS) to share pre-filled analysis links with others
- **Review your own portfolio**: Analyze your wallet's performance, engagement patterns, and reward accumulation
- **Identify staker archetypes**: Distinguish between compounders (reinvest rewards), claimers (extract rewards) and HODLers (long-term holds with less activity)
- **Benchmark performance**: Compare wallet strategies against successful patterns or your own approach
- **Investigate transactions**: Click any operation in the table to view the full transaction on Solscan

## How to Read This Chart

**How to Use:**

1. Enter a Solana wallet address in the search box
2. Click "Analyze Wallet" or press Enter
3. View complete staking history with wallet summary, timeline chart, and transaction table

**URL Parameters**: Share direct links with pre-filled addresses using `?wallet=ADDRESS` or `?address=ADDRESS`

**Wallet Summary Metrics:**
- **Current Staked**: TUNA currently in staking positions
- **Current Locked (Vesting)**: TUNA locked by vesting schedule (unlocks over time)
- **Current Unstaked**: TUNA held liquid by the wallet
- **Realized Rewards**: Cumulative SOL from claimed + compounded rewards (unclaimed rewards not shown)
- **Total Operations**: Count of all staking transactions
- **Active Since**: First staking transaction date and total days active
- **Last Activity**: Most recent staking transaction date

**Timeline Chart Elements:**
- **Stacked Area (Three Colors)**: TUNA balance split into:
  - Pink (bottom) = Staked TUNA (Vesting) - locked by vesting schedule
  - Teal (middle) = Staked TUNA (Unlocked) - freely available staked tokens
  - Gray (top) = Unstaked TUNA - pending withdrawal
- **Dashed Gold Line (Right Y-axis)**: Cumulative realized rewards in SOL (claimed + compounded)
- **Colored Dots**: Individual staking operations with distinct shapes and colors:
  - Purple diamond = Initialize Position
  - Green circle = Stake
  - Red circle = Unstake
  - Blue triangle = Compound
  - Gold star = Claim Rewards
  - Orange square = Withdraw
  - Pink hexagram = Set Vesting Strategy

**Wallet Transactions Table:**
- Shows all staking operations sorted newest first (indicated by ▼)
- **#**: Transaction number in chronological order
- **Date**: Timestamp of operation
- **Type**: Color-coded badge showing operation type
- **Amount**: TUNA amount (for stake/unstake) or SOL amount (for claim/compound)
- **Transaction**: Clickable signature linking to Solscan
- **Pagination**: 10 transactions per page with Previous/Next navigation

**Interactive Features:**
- **Hover on chart areas**: See exact staked/unstaked balance amounts at any point in time
- **Hover on dots**: View operation details (type, amount, transaction signature)
- **Click transaction links**: Opens full transaction details in Solscan block explorer
- **Zoom & Pan**: Use mouse to zoom into specific time periods on the chart
- **Toggle legend**: Click legend items to show/hide specific data series

## Methodology

<details>
<summary>Click to expand technical details</summary>

**Data Sources**

- **Staker cache**: Compressed snapshot of all staking positions and operations
- **On-chain transactions**: Staking instructions from DefiTuna staking program
- **Balance tracking**: Daily snapshots of staked and unstaked TUNA balances
- **Reward calculations**: Realized rewards from claim and compound operations

For complete pipeline details, see [Data Pipeline](/analysis/data-pipeline).

**Wallet Lookup Process**

1. **Address validation**: Input validated as 32-44 character Solana address
2. **Cache search**: Wallet looked up in staker cache (7,861 wallets active from 2025-07-25 onwards)
3. **Timeline reconstruction**: All operations sorted chronologically to rebuild balance history
4. **Metrics calculation**: Summary statistics computed from operation history

**Balance Calculation**

Daily staked and unstaked balances are calculated by:

1. **Starting balances**: Begin with earliest known state (or zero if cache started after first stake)
2. **Operation application**: Each stake/unstake/withdraw operation adjusts balances
3. **Daily snapshots**: End-of-day balances recorded in UTC timezone
4. **Compound handling**: Compounded rewards increase staked balance
5. **Claim handling**: Claimed rewards tracked separately as realized SOL

**Vesting/Locked Balance Calculation**

When a wallet has a vesting schedule, the locked amount decreases over time:

1. **Initial lock**: When SetVestingStrategy is called, the locked_tuna amount becomes fully locked
2. **Cliff period**: During the cliff (e.g., 8160 hours / 11 months), full amount remains locked
3. **Unlock periods**: After cliff, unlock_rate TUNA unlocks every unlock_period hours
4. **Multiple schedules**: If wallet has multiple vesting schedules, locked amounts are summed
5. **Timeline display**: At each event, locked amount is recalculated based on elapsed time

**Realized Rewards Tracking**

Realized rewards represent SOL that has been extracted or compounded:

- **Claim operations**: SOL sent to wallet (adds to realized rewards)
- **Compound operations**: SOL reinvested as TUNA stake (adds to realized rewards and staked balance)
- **Cumulative total**: Running sum of all claim + compound amounts
- **Unclaimed rewards**: Not included in current version

**Operation Types**

Each transaction is classified as one of these types:

- **Initialize**: Create new staking position (first transaction)
- **Stake**: Add TUNA to staking position
- **Unstake**: Begin unstaking process (tokens become available after cooldown)
- **Compound**: Reinvest rewards as additional stake
- **Claim**: Extract rewards as SOL
- **Withdraw**: Complete unstake and receive TUNA
- **Set Vesting**: Configure vesting schedule for locked TUNA (shows locked amount, cliff period, and unlock schedule)

**Relationship to Other Views**

This wallet-level detail complements:
- **[Stakers](/analysis/defituna/usage-statistics/active-stakers)**: Shows all active stakers ranked by activity
- **[Staking Overview](/analysis/defituna/staking/staked-tuna)**: Shows treasury's total staked/unstaked allocation
- **[Staker Conviction](/analysis/defituna/staking/staker-conviction)**: Analyzes long-term staker behavior patterns

**Date Range and Limitations**

- **Data start**: 2025-07-25 (when staker cache tracking began)
- **Update frequency**: Data refreshes when staker cache is rebuilt (once a day)
- **Realized rewards only**: Shows claimed + compounded SOL; unclaimed rewards not included
- **Operation granularity**: Each transaction counted as one operation regardless of size
- Multi-wallet users (same person, multiple addresses) counted separately
- No cross-wallet aggregation for institutional holders
- Pagination limited to 10 transactions per page for performance

</details>
